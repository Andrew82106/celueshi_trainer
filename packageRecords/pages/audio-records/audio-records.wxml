<!--pages/audio-records/audio-records.wxml-->
<navigation-bar title="æ­£å¬åè¯´è®°å½•" back="{{true}}"bindback="onBack"></navigation-bar>
<view class="container">
    <!-- æŠ˜çº¿å›¾åŒºåŸŸ -->
    <view class="chart-section">
        <view class="section-title">è®­ç»ƒè¶‹åŠ¿</view>
        <view class="chart-container">
            <canvas canvas-id="numberLengthChart" style="width: {{canvasWidth}}px; height: {{canvasHeight}}px;"></canvas>
        </view>
        <view class="chart-legend">
            <text>è®­ç»ƒè®°å½• (æ¨ªè½´: è®­ç»ƒæ¬¡åº, çºµè½´: æ•°å­—é•¿åº¦-ä½)</text>
        </view>
    </view>
    
    <!-- è®­ç»ƒè®°å½•è¯¦æƒ…åŒºåŸŸ -->
    <view class="records-section">
        <view class="section-title">è®­ç»ƒè®°å½•è¯¦æƒ…</view>
        <block wx:for="{{records}}" wx:key="index">
            <view class="record-card success">
                <view class="card-header">
                    <view class="length-badge">{{item.length}}ä½</view>
                    <view class="time-stamp">{{item.date}}</view>
                    <view class="delete-btn" bindtap="deleteRecord" data-index="{{index}}">
                        <view class="delete-icon"></view>
                    </view>
                </view>
                
                <view class="stats-grid">
                    <view class="stat-item">
                        <view class="stat-icon">ğŸ”¢</view>
                        <view class="stat-content">
                            <text class="stat-label">åŸå§‹æ•°å­—</text>
                            <text class="stat-value">{{item.numbers}}</text>
                        </view>
                    </view>
                    
                    <view class="stat-item">
                        <view class="stat-icon">âœ…</view>
                        <view class="stat-content">
                            <text class="stat-label">æ­£ç¡®åè½¬</text>
                            <text class="stat-value">{{item.reversed}}</text>
                        </view>
                    </view>
                </view>
                
                <view class="status-line">
                    <text class="status-text success">{{ 'æ­£ç¡®' }}</text>
                </view>
            </view>
        </block>
    </view>
</view>